<%- include('../partials/bhead.ejs') %>
<body>
  <%- include('../partials/bheader.ejs') %>

  <div
    class="container-md mt-5 d-flex flex-column justify-content-center align-items-center"
    style="min-height: calc(100vh - 70px - 50px)"
  >
    <div class="text-center mt-3 mb-2">
      <h1>Crear Producto</h1>
    </div>
    <div class="col-md-auto">
      <form
        class="row"
        id="form"
        method="POST"
        action="/admin/create"
        enctype="multipart/form-data"
      >
        <div class="col-12 mb-3 mt-2 mb-2">
          <!-- Nombre -->
          <div>
            <label class="mb-2" for="name">Nombre</label>
            <input
              class="form-control <% if (locals.errors && errors.name) { %> is-invalid <% } %>"
              type="text"
              name="name"
              value="<%= locals.oldData ? oldData.name
          : null %>"
              placeholder="Nombre del producto"
            />
            <% if (locals.errors && errors.name) { %>
            <span class="form-span-create text-danger"
              ><%= errors.name.msg %></span
            >
            <% } %>
          </div>

          <!-- Precio -->
          <div class="mt-3">
            <label class="mb-2" for="price">Precio</label>
            <input
              class="form-control <% if (locals.errors && errors.price) { %> is-invalid <% } %>"
              type="number"
              name="price"
              value="<%= locals.oldData ? oldData.price
            : null %>"
              placeholder="Precio"
            />
            <% if (locals.errors && errors.price) { %>
            <span class="form-span-create text-danger"
              ><%= errors.price.msg %></span
            >
            <% } %>
          </div>

          <!-- Descripción -->
          <div class="mt-3">
            <label class="mb-2" for="description">Descripción</label>
            <input
              class="form-control <% if (locals.errors && errors.description) { %> is-invalid <% } %>"
              type="text"
              name="description"
              value="<%= locals.oldData ? oldData.description
            : null %>"
              placeholder="Descripción del producto"
            />
            <% if (locals.errors && errors.description) { %>
            <span class="form-span-create text-danger"
              ><%= errors.description.msg %></span
            >
            <% } %>
          </div>

          <!-- Categoría -->

          <label class="mt-3 mb-2" for="category">Categoría</label>
          <select class="form-control mb-4" name="category" id="category">
            <% category.forEach(element => { %>
            <option value="<%= element.id %>"><%=element.category%></option>
            <% }) %>
          </select>

          <!-- Marca -->

          <label class="mb-2" for="brands">Marca</label>
          <select class="form-control mb-4" name="brands" id="brands">
            <% brands.forEach(element => { %>
            <option value="<%= element.id %>"><%=element.name%></option>
            <% }) %>
          </select>

          <!-- Modelo -->

          <label class="mb-2" for="model">Modelo</label>
          <select class="form-control mb-4" name="model" id="model">
            <% model.forEach(element => { %>
            <option value="<%= element.id %>"><%=element.name%></option>
            <% }) %>
          </select>

          <!-- Color -->

          <label class="mb-2" for="color">Color</label>
          <select class="form-control mb-4" name="color" id="color">
            <% color.forEach(element => { %>
            <option value="<%= element.id %>"><%=element.color%></option>
            <% }) %>
          </select>

          <label class="mb-2" for="image">Cargar imagen</label>
          <input class="form-control mb-4" type="file" name="image" multiple />
          <% if (locals.errors && errors.image) { %>
          <span class="form-span-create"><%= errors.image.msg %></span>
          <% } %>
          <div class="d-flex justify-content-center">
            <button type="submit" class="btn btn-primary btn-lg mt-3">
              Crear
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <%- include('../partials/bfooter&scripts.ejs') %>
  <script src="/js/Products/createFrontValidation.js"></script>
</body>
